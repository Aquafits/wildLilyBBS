# WildLilyBBS用例文档

> 乔鑫，秦岭，秦天一，邱浩旻

## 目录

[TOC]

##  更新记录

| 日期 | 更新者 | 版本号 | 更新内容 |
| -- | -- | -- | -- |
| 2018.10.22 | 秦岭 | V1.0 | 整合文档 |

## 1. 引言

###  1.1 目的

本文档描述了wildLilyBBS系统的用例图及用例文档。

### 1.2 阅读说明

本文档包括用例列表、用例图、详细用户说明、需求列表以及跟踪矩阵。

用例描述的约定为包含用例 ID、名称、创建日期、最后一次更新日期、参与者、触发条件、前置条件、后置条件、优先级、正常流程、扩展流程特殊需求。其中流程完整有序地描述该用例中使用者与系统的交互。 

### 1.3 参考文献

《软件工程与计算（卷二）软件开发的技术基础》 
《需求工程——软件建模与分析（第二版）》 

## 2. 用例列表

| 参与者 | 用例编号 | 用例名称 |
| --- | ---- | ---- |
| 用户 | 1 | 个人信息管理 |
| 用户 | 2 | 看帖 |
| 用户 | 3 | 发帖 |
| 用户 | 4 | 回帖 |
| 用户、管理员 | 5 | 删帖 |
| 用户、管理员 | 6 | 收发消息 |
| 管理员 | 7 | 用户管理 |
| 管理员 | 8 | 板块管理 |

## 3. 用例图

![系统用例图](assets/系统用例图.png)

## 4. 详细用例描述

### 4.1 个人信息管理

| 项目           | 值                                                           |
| -------------- | ------------------------------------------------------------ |
| ID             | 1                                                            |
| 名称           | 个人信息管理                                                 |
| 创建者         | 邱浩旻                                                       |
| 最后一次更新者 | 邱浩旻                                                       |
| 创建日期       | 2018.10.23                                                   |
| 最后更新日期   | 2018.10.23                                                   |
| 参与者         | 用户，目标是管理存储在系统内的个人信息                       |
| 触发条件       | 用户要修改个人信息                                           |
| 前置条件       | 已经登录为系统用户                                           |
| 后置条件       | 更新用户的个人信息，重新计算用户的偏好                       |
| 优先级         | 3                                                            |
| 正常流程       | 1.用户选择个人中心。<br>&emsp;1.1 系统显示用户头像、昵称、个人发帖列表和修改资料按钮。<br>2.用户选择修改个人资料。<br>&emsp;2.1 系统显示用户当前头像、昵称、性别、生日、个性签名、入学时间、院校和院系。<br>&emsp;2.2 用户修改头像、昵称、性别、生日、个性签名、入学时间、院校或院系<br>&emsp;2.3 系统显示用户修改后的的头像、昵称、性别、生日、个性签名、入学时间、院校和院系。 |
| 扩展流程       |                                                              |

### 4.2 看帖

|项目|值|
|---|---|
|ID|2|
|名称|看帖|
|创建者|秦岭|
|最后一次更新者|秦岭|
|创建日期|2018.10.21|
|最后更新日期|2018.10.21|
|参与者|用户，目标是查看帖子|
|触发条件|用户要查看帖子|
|前置条件|已经登录为系统用户|
|后置条件|保存用户浏览帖子的记录|
|优先级|3|
|正常流程|1.用户选择个性化首页中列出的某个推荐的帖子。<br>&emsp;1.1 系统显示用户选择的帖子，包括帖子标题、原帖内容、回帖内容及时间信息。<br>2.用户选择个性化板块中的某一板块。<br>&emsp;2.1 系统显示选中板块的推荐帖子列表。<br>&emsp;2.2 用户选择该板块中列出的某个推荐的帖子。<br>&emsp;2.3 系统显示用户选择的帖子，包括帖子标题、原帖内容、回帖内容及时间信息。<br>3.用户输入关键词搜索想要查看的帖子。<br>&emsp;3.1 系统显示含有搜索词的帖子列表。<br>&emsp;3.2 用户选择列出的某个帖子。<br>&emsp;3.3 系统显示用户选择的帖子，包括帖子标题、原帖内容、回帖内容及时间信息。<br>4.用户在个人中心选择个人发帖列表。<br>&emsp;4.1 系统显示用户个人所发布的帖子列表（包括回帖）。<br>&emsp;4.2 用户选择某个自己发布的帖子或者某个回帖的原帖。<br>&emsp;4.3 系统显示用户选择的帖子，包括帖子标题、原帖内容、回帖内容及时间信息。|
|扩展流程|1/2.2a.系统会在推荐列表中的每个帖子后加一个小标签选项：不感兴趣。<br>&emsp;1/2.2a.1 用户选择对某个推荐的帖子不感兴趣。<br>&emsp;1/2.2a.2 系统记录用户不感兴趣帖子并从当前推荐列表删除。<br>1.1/2.3/3.3/4.3a.用户选择原帖发布者或某个回帖发布者。<br>&emsp;1.1/2.3/3.3/4.3a.1 系统显示该用户所发布的帖子列表。<br>&emsp;1.1/2.3/3.3/4.3a.2 用户选择列出的某个帖子。<br>&emsp;1.1/2.3/3.3/4.3a.3 返回正常流程1.1/2.3/3.3/4.3。|

### 4.3 发帖

| 项目           | 值                                                           |
| -------------- | ------------------------------------------------------------ |
| ID             | 3                                                            |
| 名称           | 发布帖子                                                     |
| 创建者         | 秦天一                                                       |
| 最后一次更新者 | 邱浩旻                                                       |
| 创建日期       | 2018.10.21                                                   |
| 最后更新日期   | 2018.10.24                                                   |
| 参与者         | 用户                                                         |
| 触发条件       | 用户希望发帖                                                 |
| 前置条件       | 用户验证登陆                                                 |
| 后置条件       | 系统记录用户发帖信息                                         |
| 优先级         | 3                                                            |
| 正常流程       | 1.用户选择发帖功能<br />2.系统进入发帖界面，系统显示文本输入窗口、添加图片按钮和返回按钮<br />3.用户输入文本或添加图片，再选择板块之后确认发帖<br />4.系统检查有无违规信息<br />5.系统监测到回复内容没有违规信息，提示用户发帖成功 |
| 扩展流程       | 5.a 系统监测到回复内容有违规信息，并退回发帖请求             |
| 特殊需求       | 无                                                           |

### 4.4 回帖和回复评论

| 项目           | 值                                                           |
| -------------- | ------------------------------------------------------------ |
| ID             | 4                                                            |
| 名称           | 回帖和回复评论                                               |
| 创建者         | 秦天一                                                       |
| 最后一次更新者 | 邱浩旻                                                       |
| 创建日期       | 2018.10.21                                                   |
| 最后更新日期   | 2018.10.24                                                   |
| 参与者         | 用户                                                         |
| 触发条件       | 用户浏览帖子的时候希望回帖或回复评论                         |
| 前置条件       | 用户验证登陆                                                 |
| 后置条件       | 系统记录用户回帖或恢复评论的信息，系统提示被回复者           |
| 优先级         | 3                                                            |
| 正常流程       | 1.用户选择回帖或回复功能<br />2.系统进入回帖或回复界面，系统显示文本输入窗口、图片发送按钮和返回按钮<br />3.用户选择发送文本或图片并确认<br />4.系统检查有无违规信息<br />5.系统监测到回复内容没有违规信息，提示用户回帖或评论成功 |
| 扩展流程       | 5.a 系统监测到回复内容有违规信息，并退回回帖请求             |
| 特殊需求       | 无                                                           |

### 4.5 删帖

|项目|值|
|---|---|
|ID|5|
|名称|删帖|
|创建者|秦岭|
|最后一次更新者|秦岭|
|创建日期|2018.10.21|
|最后更新日期|2018.10.21|
|参与者|用户，目标是删除自己发布帖子或回帖<br>管理员，目标是删除不符合规定的帖子或回帖|
|触发条件|用户要删帖或管理员要删帖<br>管理员发现有帖子内容不符合规定|
|前置条件|已经登录为系统用户或管理员|
|后置条件|在系统中删除帖子及其回帖|
|优先级|2|
|正常流程|1.用户选择个人发帖列表。<br>&emsp;1.1 系统显示用户个人所发布的帖子列表（包括回帖）。<br>&emsp;1.2 用户选择删除某个自己发布的帖子或者某个回帖，并确认。<br>&emsp;1.3 系统删除该帖子及其所有回帖。<br>2.管理员选择删除不符合规定的帖子。<br>&emsp;2.3 系统删除该帖子及其所有回帖。|
|扩展流程|无|

### 4.6 消息管理

| 项目           | 值                                                           |
| -------------- | ------------------------------------------------------------ |
| ID             | 6                                                            |
| 名称           | 消息管理                                                     |
| 创建者         | 邱浩旻                                                       |
| 最后一次更新者 | 邱浩旻                                                       |
| 创建日期       | 2018.10.23                                                   |
| 最后更新日期   | 2018.10.23                                                   |
| 参与者         | 用户，目标是管理帖子、系统和聊天产生的消息                   |
| 触发条件       | 用户要查看与回复评论、查看与回复私信和查看系统消息           |
| 前置条件       | 已经登录为系统用户                                           |
| 后置条件       | 更新用户的个人信息，重新计算用户的偏好                       |
| 优先级         | 3                                                            |
| 正常流程       | 1.用户选择消息。<br>&emsp;1.1 系统显示评论、私信和通知三个分类，系统默认选择评论。<br>2.用户选择评论。<br>&emsp;2.1 系统减少相应的未读评论数目，按时间最近优先显示列表显示该用户评论收到的回复，回帖收到的评论，以及该用户发帖之后收到的回帖。<br>&emsp;2.2 用户点击回复评论或回复回帖。<br>&emsp;2.3 系统跳转到相应帖子执行回帖功能（参照4.4 回帖和回复评论）<br>3.用户选择私信。<br>&emsp;3.1 系统按时间最近优先列表显示显示私信概览，包括与该用户私信的用户头像，最近聊天时间和最近的一条消息。<br>&emsp;3.2 用户点击一条私信概览。<br>&emsp;3.3 系统减少相应的未读私信数目，显示与该用户的私信窗口，包括头像、昵称、最近1天的最近20条聊天记录、文本输入窗口、图片发送按钮和返回按钮。<br>&emsp;3.4 用户输入文字或选择发送的图片并且点击发送<br>&emsp;3.5 系统在聊天窗口中追加最近发的消息<br>&emsp;3.6 用户点击返回按钮返回私信概览<br>4. 用户选择系统消息。<br>&emsp;4.1 系统按时间优先显示系统消息列表。<br>&emsp;4.2 用户点击一条系统消息<br>&emsp;4.3 系统减少相应的系统消息数目，并展示该系统消息<br>5. 用户有未读消息<br>&emsp;5.1 系统在相应分类上以红色气泡标注未读消息的数目 |
| 扩展流程       |                                                              |

### 4.7 用户管理

| 项目           | 值                       |
| -------------- | ------------------------ |
| ID             | 7                        |
| 名称           | 用户管理                 |
| 创建者         | 乔鑫                     |
| 最后一次更新者 | 乔鑫                     |
| 创建日期       | 2018.10.21               |
| 最后更新日期   | 2018.10.21               |
| 参与者         | 管理员，目标是管理用户   |
| 触发条件       | 要管理用户               |
| 前置条件       | 身份为管理员，且成功登录 |
| 后置条件       | 无                       |
| 优先级         | 1                         |
| 正常流程       | 1.管理员进入用户管理功能<br />2.系统进入用户管理功能，系统列出当前所有用户信息<br />3.管理员选择查询用户功能：<br />    &emsp;3.1 系统要求管理员输入要查询的用户关键字或用户ID<br />    &emsp;3.2 管理员输入要查询用户关键字或用户ID<br />    &emsp;3.3 系统显示符合条件的用户<br />    &emsp;3.4 管理员点击需要查看的用户，系统显示当前用户信息<br />4.管理员选择一个用户，并选择编辑用户信息功能<br />    &emsp;4.1 管理员选择一个用户，并选择删除用户功能<br />        &emsp;&emsp;4.1.1 系统要求管理员确认删除用户<br/>&emsp;&emsp;4.1.2 管理员确认删除<br />        &emsp;&emsp;4.1.3 系统删除用户，并回到用户管理界面<br />    &emsp;4.2 管理员选择一个用户，并选择封禁用户功能<br />        &emsp;&emsp;4.2.1 系统要求管理员确认封禁用户时间<br />        &emsp;&emsp;4.2.2 管理员选择封禁时间并确认封禁用户<br />        &emsp;&emsp;4.2.3 系统封禁用户账号，并返回到编辑用户信息界面 |
| 拓展流程       | 4.1.2a 管理员选择取消删除<br />    &emsp;4.1.2a.1 系统取消删除，返回编辑用户信息界面<br />4.2a 管理员选择一个已封禁用户，选择解除封禁功能<br />    &emsp;4.2a.1 系统要求管理员确认解除封禁<br />    &emsp;4.2a.2 管理员确认解除封禁<br />    &emsp;4.2a.3 系统解除封禁，并返回编辑用户信息界面<br />4.2.2a 管理员选择取消封禁<br />    &emsp;4.2.2a.1 系统取消封禁，返回编辑用户信息界面 |
| 特殊要求       | 无 |

### 4.8 板块管理

| 项目           | 值                                                           |
| -------------- | ------------------------------------------------------------ |
| ID             | 8                                                            |
| 名称           | 板块管理                                                     |
| 创建者         | 乔鑫                                                         |
| 最后一次更新者 | 乔鑫                                                         |
| 创建日期       | 2018.10.21                                                   |
| 最后更新日期   | 2018.10.21                                                   |
| 参与者         | 管理员，目标是对板块分类进行管理                             |
| 触发条件       | 要进行板块管理                                               |
| 前置条件       | 身份为管理员，且成功登录                                     |
| 后置条件       | 无                                                           |
| 优先级         | 3                                                             |
| 正常流程       | 1. 管理员选择板块管理功能。<br/>2. 系统进入板块管理功能，系统列出当前所有板块信息。<br />3. 管理员选择新增板块功能；<br />    &emsp;3.1 系统要求管理员输入板块名称、简介<br />    &emsp;3.2 管理员输入这些信息。<br />    &emsp;3.3 系统保存这些信息，并退回到主界面。<br />4. 管理员选中一个板块，并选择编辑板块信息功能。<br />    &emsp;4.1 系统显示选中板块的名称，简介。<br />    &emsp;4.2 管理员修改这些信息。<br />    &emsp;4.3 系统保存这些信息，并退回到主界面。<br />5. 管理员选中一个板块，并选择删除板块功能。<br />    &emsp;5.1 系统要求管理员确认删除板块<br />    &emsp;5.2 管理员确认删除板块<br />    &emsp;5.3 系统删除板块，并回到主界面。 |
| 拓展流程       | 3.3/4.3a. 管理员未填写新板块的名称<br/> 3.3/4.3a.1 系统弹出提示，要求管理员填写名称。<br />5.2a. 管理员选择取消删除<br /> 5.2a.1 系统取消删除，返回上一个界面。 |
| 特殊要求       | 无                                                           |


## 5. 用户需求列表

### 5.1 业务需求

- BR1:系统投入运营3个月后，个性化首页的推荐转化率达3%
- BR2: 系统投入运营3个月后，除各院系自有的分区外，其他分区共不超过15个
- BR3: 系统投入运营3个月后，各分区首页移动端转化率达5%
- BR4: 系统投入运营3个月后，活跃用户数较小百合上升10%
- BR5: 系统投入运营3个月后，用户在线时长较小百合上升10%
- BR6: 系统投入运营3个月后，全站浏览量较小百合和表白墙的均值上升5%

### 5.2 用户需求

- UR1: 用户可以通过系统对个人信息进行管理
- UR2: 用户可以使用系统通过各种途径查看帖子，包括从个性化主页进入、分类板块进入、搜索关键词进入和从系统用户主页进入等
- UR3: 用户可以通过系统对自己不感兴趣的用户推荐的帖子进行标记
- UR4: 用户可以通过系统发布帖子，并能在发帖时对帖子类型分类
- UR5: 用户可以通过系统在他人发布的帖子下回帖，以及对回帖可以进行评论、回复等
- UR6: 用户可以通过系统删除自己发布的帖子和回帖
- UR7: 管理员可以通过系统删除不符合规定的帖子和回帖
- UR8: 用户和管理员可以通过系统和其他用户或管理员进行消息的收发   
- UR9: 管理员可以通过系统对用户进行管理，包括删除用户、封禁用户等
- UR10: 管理员可以通过系统对平台板块分类进行管理


## 6. 跟踪矩阵

| 需求编号 | 需求类别 | 需求来源 | 具有难度 | 可行性 | 风险 | 改善产品功能？ | 改善产品性能？ | 增加用户满意度？ | 增加产品竞争力？ | 是否实现？ | 优先级 | 未实现原因 |
| -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | --  | -- | -- |
| BR1 | 业务需求 | 客户 | 是 | 可行 | 有 | 是 | 是 | 是 | 是 | 是 | 3 |  |
| BR2 | 业务需求 | 客户 | 是 | 可行 | 有 | 是 | 是 | 是 | 是 | 是 | 2 |  |
| BR3 | 业务需求 | 客户 | 是 | 可行 | 有 | 是 | 是 | 是 | 是 | 是 | 3 |  |
| BR4 | 业务需求 | 客户 | 是 | 可行 | 有 | 是 | 否 | 是 | 是 | 是 | 2 |  |
| BR5 | 业务需求 | 客户 | 是 | 可行 | 有 | 是 | 否 | 是 | 是 | 是 | 2 |  |
| BR6 | 业务需求 | 客户 | 是 | 可行 | 有 | 是 | 否 | 是 | 是 | 是 | 2 |  |
| UR1 | 用户需求 | 市场 | 是 | 可行 | 有 | 是 | 是 | 否 | 是 | 是 | 1 |  |
| UR2 | 用户需求 | 客户 | 是 | 可行 | 有 | 是 | 是 | 是 | 是 | 是 | 3 |  |
| UR3 | 用户需求 | 客户 | 是 | 可行 | 有 | 是 | 是 | 是 | 是 | 是 | 1 |  |
| UR4 | 用户需求 | 市场 | 是 | 可行 | 有 | 是 | 是 | 是 | 是 | 是 | 3 |  |
| UR5 | 用户需求 | 市场 | 是 | 可行 | 有 | 是 | 是 | 是 | 是 | 是 | 3 |  |
| UR6 | 用户需求 | 市场 | 是 | 可行 | 有 | 是 | 是 | 是 | 是 | 是 | 2 |  |
| UR7 | 用户需求 | 市场 | 是 | 可行 | 有 | 是 | 是 | 否 | 是 | 是 | 2 |  |
| UR8 | 用户需求 | 客户 | 是 | 可行 | 有 | 是 | 是 | 是 | 是 | 是 | 2 |  |
| UR9 | 用户需求 | 市场 | 是 | 可行 | 有 | 是 | 是 | 否 | 是 | 是 | 1 |  |
| UR10 | 用户需求 | 客户 | 是 | 可行 | 有 | 是 | 是 | 是 | 是 | 是 | 3 |  |
